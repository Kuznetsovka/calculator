<
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Расчет увлажнителя</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" href="statico/css/style2.css"/>
    <link rel="stylesheet" type="text/css" href="statico/css/mycheckbox.css"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css">
    <script src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
</head>

<body style="height: 100%" id="body-tag" >

<div id="DivLogoPrint">
    <img id="logoPrint" src="statico/img/logo.png" height="80px">
    <a href="http://www.systemair-ac.ru/" id="logoLink"></a>
</div>
<div name="common" id="common" class="frame content">
    <!-- part-1 -->
    <div id="part1" class="box">
        <h1  id="part1-head">
            <span class="bg_circle" style="background: rgb(122, 214, 211);">1</span>
            Заполнение информации об объекте
        </h1>
        <form th:action="@{calculator/saveProject}" th:object="${projectDto}" method="post">
            <table border="0" cellspacing="0" cellpadding="0" id="input-info-table" width="100%">
                <tr th:if="${projects.size() > 0}">
                    <td>Выбор существующего проекта</td>
                    <td>
                        <select name="projectDto">
                            <option th:each="r : ${projects}" th:value="${r}" th:text="${r.title}" th:action="change"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Название проекта</td>
                    <td>
                        <input type="text" th:field="*{title}"/>
                    </td>
                </tr>
                <tr>
                    <td>Адрес проекта</td>
                    <td>
                        <input type="text" th:field="*{address}"/>
                    </td>
                </tr>
            </table>
            <button id="btn-save" type="submit">Сохранить</button>
        </form>
        <form th:action="@{calculator/clear}" method="post">
            <button id="btn-clear" type="submit">Сброс</button>
        </form>
    </div>
    <!--  part-2  -->
    <div id="part2" class="box">

        <h1 id="part2-head">
            <span class="bg_circle" style="background: rgb(122, 214, 211);">2</span>
            Ввод технических данных
        </h1>
        <form th:action="@{calculator/calc}" th:object="${techDataDto}" method="post">
            <table border="0" cellspacing="0" cellpadding="0" id="info-input" width="100%">
                <tr>
                    <td>Расход воздуха</td>
                    <td><input type="number" th:field="*{airFlow}"/></td>
                </tr>
                <tr>
                    <td>Температура на входе</td>
                    <td><input type="number" th:field="*{tempIn}"/></td>
                </tr>
                <tr>
                    <td>Влажность на входе</td>
                    <td><input type="number" th:field="*{humIn}"/></td>
                </tr>
                <tr th:border="2">
                    <td>Влажность на выходе </td>
                    <td><input type="number" th:field="*{humOut}"/></td>
                </tr>
                <tr>
                    <td colspan="2">
                        <h3>Тип расположения парораспределителя</h3>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <select name="typeMontage">
                            <option th:each="r : ${T(ru.systemairac.calculator.myenum.TypeMontage).values()}"
                                    th:value="${r}" th:text="${r.getTxt()}"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td colspan="2">
                        <table th:if="${techDataDto.typeMontage}!=${T(ru.systemairac.calculator.myenum.TypeMontage).FAN_DISTRIBUTOR.getTxt()}">
                            <tr>
                                <td>Длина</td>
                                <td>Ширина</td>
                            </tr>
                            <tr>
                                <td><input type="number" th:field="${techDataDto.length}"/></td>
                                <td><input type="number" th:field="${techDataDto.width}"/></td>
                        </table>
                    </td>
                </tr>
                <tr>
                    <td>
                        <h3>Выберите тип увлажнителя</h3>
                    </td>
                    <td><h3>Тип цилиндра</h3></td>
                </tr>
                <tr>
                    <td>
                        <select name="EnumHumidifierType">
                            <option th:each="r : ${T(ru.systemairac.calculator.myenum.EnumHumidifierType).values()}"
                                    th:value="${r}" th:text="${r.getTxt()}"></option>
                        </select>
                    </td>
                    <td th:text="${T(ru.systemairac.calculator.myenum.TypeCylinder).DISMOUNTABLE_CYLINDER.getTxt()}"></td>
                </tr>
                <tr colspan="2" th:if="${techDataDto.enumHumidifierType}==${T(ru.systemairac.calculator.myenum.EnumHumidifierType).HEATING_ELEMENT.getTxt()}">
                    <!--            <tr colspan="2">-->
                    <td><h3>Выберите тип воды</h3></td>
                    <td>
                        <select name="TypeWater">
                            <option th:each="r : ${T(ru.systemairac.calculator.myenum.TypeWater).values()}"
                                    th:value="${r}" th:text="${r.getTxt()}"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Выберите вольтаж сети</td>
                    <td>
                        <select th:field="${techDataDto.voltage}" name="voltage" id="voltage">
                            <option th:value=220 th:text="220"></option>
                            <option th:value=380 th:text="380"></option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Фазность: </td>
                    <td>
                        <input th:field="${techDataDto.phase}" name="field_phase" id="field_phase" style="width: 50px;"/>
                    </td>
                </tr>
            </table>
            <button type="submit">Расчет</button>
        </form>
    </div>
    <!--  part-3  -->
    <div id="part3" class="box">
        <h1  id="part3-head">
            <span class="bg_circle" style="background: rgb(122,214,211);">3</span>
            Выбор увлажнителя
        </h1>
        <span th:if="${himidifiers.size() == 0}">Расчет не выполненен</span>
        <form th:action="@{calculator/selectHumidifier}" method="post">
            <table border="1" th:if="${himidifiers.size() > 0}" class="table table-hover" id = "table_humidifier">
                <thead>
                <tr>
                    <td>№</td>
                    <td>Артикул</td>
                    <!--                <td>Вид</td> TODO картинка -->
                    <td>Расчетная мощность</td>
                    <td>Мощность</td>
                    <td>Потребление</td>
                    <td>Вольтаж</td>
                    <td>Количество цилиндров</td>
                    <td>Диаметр парораспределителя</td>
                    <td>Цена</td>
                </tr>
                </thead>
                <tbody id="data">
                <tr th:each="humidifier : ${himidifiers}">
                    <td>
                        <input name="idSelectHumidifier" type="radio" th:value="${humidifier.id}" style="width: 50px;">
                    </td>
                    <td th:text="${humidifier.articleNumber}">Articul</td>
                    <td th:text="${#numbers.formatDecimal(techDataDto.getCalcCapacity(),1,1)}" >10.0</td>
                    <td th:text="${humidifier.capacity}">10</td>
                    <td th:text="${humidifier.electricPower}">11.1</td>
                    <td th:text="${humidifier.phase} +'~' +  ${humidifier.voltage}">1~220</td>
                    <td th:text="${humidifier.numberOfCylinders}"></td>
                    <td th:text="${humidifier.vaporPipeDiameter}"></td>
                    <td th:text="${humidifier.price}"></td>
                </tr>
                </tbody>
            </table>
            <button type="submit">Выбрать</button>
        </form>

        <!--  part-4  -->

        <div>
            <div id="part4" class="box">
                <h1  id="part4-head">
                    <span class="bg_circle" style="background: rgb(122, 214, 211);">4</span>
                    Выбор опций увлажнителя
                </h1>
                <label>Передаем id выбранного увлажнителя</label>
                <input type="text" value="100" name="inputTest" id="inputTest"/>
                <table id="table_option" border="1" className = "table_option" class="table table-hover-option">
                    <thead id="thead_option">
                    <tr>
                        <td>№</td>
                        <td>Артикул</td>
                        <td>Название</td>
                        <!--                <td>Вид</td> TODO картинка -->
                        <td>Цена</td>
                    </tr>
                    </thead>
                    <tr className="tr_option" id="tr_option" th:each ="instance : ${options.get(idSelectHumidifier)}">
                        <td>
                            <label class="container">
                                <input type="checkbox" name="selectedOptions">
                                <span class="checkmark"></span>
                            </label>
                        </td>
                        <td th:text="${instance.articleNumber}">арт</td>
                        <td th:text="${instance.type.getTxt()}">тип</td>
                        <td class="option_price" th:text="${instance.price}">0</td>
                    </tr>
                </table>
                <div>
                    <h3 id="Summary" text="Сумма: ">
                    </h3>
                </div>

            </div>
        </div>
    </div>
</div>
</div>
</body>
<!-- Optional JavaScript -->
<script type="text/javascript" src="statico/js/script.js"></script>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</html>